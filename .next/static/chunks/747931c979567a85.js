(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,15595,e=>{"use strict";var a=e.i(1972),t=e.i(75305);e.i(23674);var s=e.i(7290),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let o=(0,s.createSlot)(`Primitive.${r}`),i=t.forwardRef((e,t)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?o:r,{...i,ref:t})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});e.s(["Primitive",()=>r],15595);var o=t.forwardRef((e,t)=>(0,a.jsx)(r.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));o.displayName="Label";var i=e.i(47163);function n({className:e,...t}){return(0,a.jsx)(o,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>n],10708)},23750,e=>{"use strict";var a=e.i(1972),t=e.i(47163);function s({className:e,type:s,...r}){return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>s])},68135,e=>{"use strict";let a=(0,e.i(10965).default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);e.s(["Home",()=>a],68135)},87459,e=>{"use strict";let a=(0,e.i(10965).default)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);e.s(["Map",()=>a],87459)},84244,e=>{"use strict";let a=(0,e.i(10965).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>a],84244)},89752,e=>{"use strict";var a=e.i(1972),t=e.i(2854),s=e.i(30499),r=e.i(68135),o=e.i(87459),i=e.i(79064),n=e.i(84244),l=e.i(47163),d=e.i(27250);function c(){let e=(0,s.usePathname)(),c=d.mockNotifications.filter(e=>!e.read).length,u=[{href:"/",icon:r.Home,label:"Início"},{href:"/map",icon:o.Map,label:"Mapa"},{href:"/notifications",icon:i.Bell,label:"Notificações",badge:c},{href:"/profile",icon:n.User,label:"Perfil"}];return(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-border z-100 pb-safe",children:(0,a.jsx)("div",{className:"flex justify-around items-center h-16 sm:h-14 px-2",children:u.map(s=>{let r=e===s.href;return(0,a.jsxs)(t.default,{href:s.href,className:(0,l.cn)("flex flex-col items-center justify-center gap-1 px-2 py-2 rounded-xl transition-all flex-1 relative active:scale-95",r?"text-primary bg-teal-50":"text-muted-foreground hover:text-foreground active:bg-gray-50"),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(s.icon,{className:"w-5 h-5 sm:w-5 sm:h-5"}),s.badge&&s.badge>0&&(0,a.jsx)("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full min-w-[18px] h-[18px] flex items-center justify-center font-bold px-1",children:s.badge>9?"9+":s.badge})]}),(0,a.jsx)("span",{className:"text-[10px] sm:text-[11px] font-medium leading-none",children:s.label})]},s.href)})})})}e.s(["MobileNav",()=>c])},70065,e=>{"use strict";var a=e.i(1972),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function o({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...s})}function n({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>o])},41616,e=>{"use strict";var a=e.i(75305),t=globalThis?.document?a.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>t])},49110,e=>{"use strict";let a=(0,e.i(10965).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],49110)},84675,e=>{"use strict";let a=(0,e.i(10965).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],84675)},80577,e=>{"use strict";var a=e.i(75305);function t(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}e.s(["useCallbackRef",()=>t])},27250,e=>{"use strict";let a=[{id:"1",userId:"1",status:"lost",name:"Rex",type:"dog",breed:"Labrador",size:"large",age:"3 anos",location:{lat:-23.5505,lng:-46.6333,address:"Av. Paulista, 1000",city:"São Paulo",neighborhood:"Bela Vista"},lastSeenDate:new Date("2024-01-15"),description:"Cachorro labrador dourado, muito amigável. Desapareceu com coleira vermelha.",photoUrl:"/golden-labrador-dog.jpg",reward:500,contactPhone:"+5511987654321",contactName:"João Silva",sightings:[{id:"s1",petId:"1",location:{lat:-23.5525,lng:-46.635,address:"Rua Augusta, 500",city:"São Paulo",neighborhood:"Consolação"},date:new Date("2024-01-16"),time:"14:30",description:"Vi ele correndo perto do parque",reporterName:"Maria Santos",reporterPhone:"+5511976543210",createdAt:new Date("2024-01-16")}],createdAt:new Date("2024-01-15")},{id:"2",userId:"2",status:"found",type:"cat",breed:"Siamês",size:"small",location:{lat:-23.5615,lng:-46.656,address:"Rua da Consolação, 300",city:"São Paulo",neighborhood:"Consolação"},lastSeenDate:new Date("2024-01-18"),description:"Gato siamês encontrado na rua, parece estar perdido. Está bem cuidado.",photoUrl:"/siamese-cat.png",contactPhone:"+5511965432109",contactName:"Ana Costa",sightings:[],createdAt:new Date("2024-01-18")},{id:"3",userId:"1",status:"adoption",name:"Luna",type:"cat",breed:"Vira-lata",size:"small",age:"1 ano",location:{lat:-23.5435,lng:-46.6395,address:"Bela Vista",city:"São Paulo",neighborhood:"Bela Vista"},lastSeenDate:new Date("2024-01-10"),description:"Gatinha muito carinhosa, castrada e vacinada. Procura um lar amoroso.",photoUrl:"/cute-white-cat.jpg",contactPhone:"+5511987654321",contactName:"João Silva",sightings:[],createdAt:new Date("2024-01-10")},{id:"4",userId:"3",status:"lost",name:"Mel",type:"dog",breed:"Shih Tzu",size:"small",age:"5 anos",location:{lat:-23.5745,lng:-46.6234,address:"Vila Mariana",city:"São Paulo",neighborhood:"Vila Mariana"},lastSeenDate:new Date("2024-01-20"),description:"Cachorrinha pequena, pelo longo marrom e branco. Muito dócil.",photoUrl:"/fluffy-shih-tzu.png",reward:300,contactPhone:"+5511954321098",contactName:"Carlos Oliveira",sightings:[],createdAt:new Date("2024-01-20")}],t=[{id:"n1",userId:"1",type:"sighting",petId:"1",title:"Novo avistamento de Rex",message:"Seu pet foi avistado na Rua Augusta",read:!1,createdAt:new Date("2024-01-16"),sighting:a[0].sightings[0]},{id:"n2",userId:"1",type:"nearby",petId:"2",title:"Pet encontrado próximo a você",message:"Um gato siamês foi encontrado perto da sua localização",read:!1,createdAt:new Date("2024-01-18")}];e.s(["mockNotifications",0,t,"mockPets",0,a])},70305,(e,a,t)=>{"use strict";var s=e.r(75305),r="function"==typeof Object.is?Object.is:function(e,a){return e===a&&(0!==e||1/e==1/a)||e!=e&&a!=a},o=s.useState,i=s.useEffect,n=s.useLayoutEffect,l=s.useDebugValue;function d(e){var a=e.getSnapshot;e=e.value;try{var t=a();return!r(e,t)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,a){return a()}:function(e,a){var t=a(),s=o({inst:{value:t,getSnapshot:a}}),r=s[0].inst,c=s[1];return n(function(){r.value=t,r.getSnapshot=a,d(r)&&c({inst:r})},[e,t,a]),i(function(){return d(r)&&c({inst:r}),e(function(){d(r)&&c({inst:r})})},[e]),l(t),t};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:c},34960,(e,a,t)=>{"use strict";a.exports=e.r(70305)},63270,20682,e=>{"use strict";var a=e.i(1972),t=e.i(75305),s=e.i(80577),r=e.i(41616),o=e.i(15595),i=e.i(34960);function n(){return()=>{}}var l="Avatar",[d,c]=function(e,s=[]){let r=[],o=()=>{let a=r.map(e=>t.createContext(e));return function(s){let r=s?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return o.scopeName=e,[function(s,o){let i=t.createContext(o);i.displayName=s+"Context";let n=r.length;r=[...r,o];let l=s=>{let{scope:r,children:o,...l}=s,d=r?.[e]?.[n]||i,c=t.useMemo(()=>l,Object.values(l));return(0,a.jsx)(d.Provider,{value:c,children:o})};return l.displayName=s+"Provider",[l,function(a,r){let l=r?.[e]?.[n]||i,d=t.useContext(l);if(d)return d;if(void 0!==o)return o;throw Error(`\`${a}\` must be used within \`${s}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((a,{useScope:t,scopeName:s})=>{let r=t(e)[`__scope${s}`];return{...a,...r}},{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:r}),[r])}};return s.scopeName=a.scopeName,s}(o,...s)]}(l),[u,m]=d(l),p=t.forwardRef((e,s)=>{let{__scopeAvatar:r,...i}=e,[n,l]=t.useState("idle");return(0,a.jsx)(u,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,a.jsx)(o.Primitive.span,{...i,ref:s})})});p.displayName=l;var h="AvatarImage",f=t.forwardRef((e,l)=>{let{__scopeAvatar:d,src:c,onLoadingStatusChange:u=()=>{},...p}=e,f=m(h,d),v=function(e,{referrerPolicy:a,crossOrigin:s}){let o=(0,i.useSyncExternalStore)(n,()=>!0,()=>!1),l=t.useRef(null),d=o?(l.current||(l.current=new window.Image),l.current):null,[c,u]=t.useState(()=>g(d,e));return(0,r.useLayoutEffect)(()=>{u(g(d,e))},[d,e]),(0,r.useLayoutEffect)(()=>{let e=e=>()=>{u(e)};if(!d)return;let t=e("loaded"),r=e("error");return d.addEventListener("load",t),d.addEventListener("error",r),a&&(d.referrerPolicy=a),"string"==typeof s&&(d.crossOrigin=s),()=>{d.removeEventListener("load",t),d.removeEventListener("error",r)}},[d,s,a]),c}(c,p),x=(0,s.useCallbackRef)(e=>{u(e),f.onImageLoadingStatusChange(e)});return(0,r.useLayoutEffect)(()=>{"idle"!==v&&x(v)},[v,x]),"loaded"===v?(0,a.jsx)(o.Primitive.img,{...p,ref:l,src:c}):null});f.displayName=h;var v="AvatarFallback",x=t.forwardRef((e,s)=>{let{__scopeAvatar:r,delayMs:i,...n}=e,l=m(v,r),[d,c]=t.useState(void 0===i);return t.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(e)}},[i]),d&&"loaded"!==l.imageLoadingStatus?(0,a.jsx)(o.Primitive.span,{...n,ref:s}):null});function g(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}x.displayName=v;var b=e.i(47163);function y({className:e,...t}){return(0,a.jsx)(p,{"data-slot":"avatar",className:(0,b.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function w({className:e,...t}){return(0,a.jsx)(f,{"data-slot":"avatar-image",className:(0,b.cn)("aspect-square size-full",e),...t})}function j({className:e,...t}){return(0,a.jsx)(x,{"data-slot":"avatar-fallback",className:(0,b.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}e.s(["Avatar",()=>y,"AvatarFallback",()=>j,"AvatarImage",()=>w],63270);let N=0,S=new Map,P=e=>{if(S.has(e))return;let a=setTimeout(()=>{S.delete(e),E({type:"REMOVE_TOAST",toastId:e})},1e6);S.set(e,a)},C=[],A={toasts:[]};function E(e){A=((e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?P(t):e.toasts.forEach(e=>{P(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}})(A,e),C.forEach(e=>{e(A)})}function T({...e}){let a=(N=(N+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>E({type:"DISMISS_TOAST",toastId:a});return E({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>E({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function M(){let[e,a]=t.useState(A);return t.useEffect(()=>(C.push(a),()=>{let e=C.indexOf(a);e>-1&&C.splice(e,1)}),[e]),{...e,toast:T,dismiss:e=>E({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>M],20682)},13576,e=>{"use strict";var a=e.i(1972),t=e.i(75305),s=e.i(30499),r=e.i(91432),o=e.i(89752),i=e.i(67881),n=e.i(23750),l=e.i(10708),d=e.i(70065),c=e.i(63270),u=e.i(84675),m=e.i(10965);let p=(0,m.default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),h=(0,m.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var f=e.i(49110),v=e.i(20682);function x(){let{user:e,isLoading:m}=(0,r.useAuth)(),x=(0,s.useRouter)(),{toast:g}=(0,v.useToast)(),[b,y]=(0,t.useState)(null),[w,j]=(0,t.useState)({name:"",phone:"",photoUrl:"",location:{address:"",city:"",lat:0,lng:0},currentPassword:"",newPassword:"",confirmPassword:""});return((0,t.useEffect)(()=>{m||e||x.push("/login"),e&&(j({name:e.name,phone:e.phone,photoUrl:e.photoUrl||"",location:e.location||{address:"",city:"",lat:0,lng:0},currentPassword:"",newPassword:"",confirmPassword:""}),y(e.photoUrl||null))},[e,m,x]),m||!e)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-orange-50 pb-20",children:[(0,a.jsxs)("main",{className:"container mx-auto px-3 py-3 sm:px-4 sm:py-6 max-w-2xl",children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>x.back(),className:"p-2 h-auto",children:(0,a.jsx)(u.ArrowLeft,{className:"w-5 h-5"})}),(0,a.jsx)("h1",{className:"text-base sm:text-xl font-bold",children:"Editar Perfil"})]}),(0,a.jsx)(d.Card,{children:(0,a.jsx)(d.CardContent,{className:"p-4 sm:p-6",children:(0,a.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),w.newPassword){if(!w.currentPassword)return void g({title:"Erro",description:"Por favor, informe sua senha atual.",variant:"destructive"});if(w.newPassword!==w.confirmPassword)return void g({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});if(w.newPassword.length<6)return void g({title:"Erro",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"})}(async()=>{try{e&&e.id&&w.location?.lat&&w.location?.lng&&await fetch("/api/users/location",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,lat:w.location.lat,lng:w.location.lng,address:w.location.address,city:w.location.city})}),g({title:"Perfil atualizado!",description:"Suas informações foram salvas com sucesso."}),setTimeout(()=>{x.push("/profile")},1e3)}catch(e){g({title:"Erro",description:"Falha ao salvar informações. Tente novamente.",variant:"destructive"})}})()},className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(c.Avatar,{className:"w-24 h-24 sm:w-32 sm:h-32",children:[(0,a.jsx)(c.AvatarImage,{src:b||e.photoUrl||"/placeholder.svg",alt:e.name}),(0,a.jsx)(c.AvatarFallback,{className:"bg-teal-600 text-white text-2xl",children:(w.name||e.name).split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),(0,a.jsxs)("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 bg-teal-600 text-white rounded-full p-2 cursor-pointer hover:bg-teal-700 transition-colors shadow-lg",children:[(0,a.jsx)(p,{className:"w-4 h-4"}),(0,a.jsx)("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:e=>{let a=e.target.files?.[0];if(a){let e=new FileReader;e.onloadend=()=>{y(e.result),j({...w,photoUrl:e.result})},e.readAsDataURL(a)}}})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Clique na câmera para alterar a foto"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"name",children:"Nome completo"}),(0,a.jsx)(n.Input,{id:"name",type:"text",value:w.name,onChange:e=>j({...w,name:e.target.value}),required:!0,className:"h-10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"phone",children:"Telefone"}),(0,a.jsx)(n.Input,{id:"phone",type:"tel",value:w.phone,onChange:e=>j({...w,phone:e.target.value}),placeholder:"(00) 00000-0000",required:!0,className:"h-10"})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-2 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.Label,{className:"text-base font-semibold",children:"Localização"}),(0,a.jsxs)(i.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(async a=>{let{latitude:t,longitude:s}=a.coords,r={...w.location,lat:t,lng:s,address:w.location.address||`${t.toFixed(4)}, ${s.toFixed(4)}`};j({...w,location:r});try{e&&e.id&&await fetch("/api/users/location",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,lat:t,lng:s,address:r.address,city:r.city})}),g({title:"Localização obtida!",description:"Sua localização foi atualizada com sucesso."})}catch(e){g({title:"Erro ao enviar localização",description:"Não foi possível salvar sua localização no servidor.",variant:"destructive"})}},e=>{g({title:"Erro ao obter localização",description:"Não foi possível obter sua localização. Verifique as permissões.",variant:"destructive"})}):g({title:"Geolocalização não suportada",description:"Seu navegador não suporta geolocalização.",variant:"destructive"})},className:"h-8 text-xs",children:[(0,a.jsx)(f.MapPin,{className:"w-3.5 h-3.5 mr-1"}),"Usar minha localização"]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Sua localização é usada para notificar sobre pets próximos a você"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"address",children:"Endereço"}),(0,a.jsx)(n.Input,{id:"address",type:"text",value:w.location.address,onChange:e=>j({...w,location:{...w.location,address:e.target.value}}),placeholder:"Rua, número, bairro",className:"h-10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"city",children:"Cidade"}),(0,a.jsx)(n.Input,{id:"city",type:"text",value:w.location.city,onChange:e=>j({...w,location:{...w.location,city:e.target.value}}),placeholder:"Cidade - Estado",className:"h-10"})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-2 border-t",children:[(0,a.jsx)(l.Label,{className:"text-base font-semibold",children:"Alterar Senha"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Deixe em branco se não deseja alterar sua senha"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"currentPassword",children:"Senha atual"}),(0,a.jsx)(n.Input,{id:"currentPassword",type:"password",value:w.currentPassword,onChange:e=>j({...w,currentPassword:e.target.value}),placeholder:"Digite sua senha atual",className:"h-10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"newPassword",children:"Nova senha"}),(0,a.jsx)(n.Input,{id:"newPassword",type:"password",value:w.newPassword,onChange:e=>j({...w,newPassword:e.target.value}),placeholder:"Digite sua nova senha",className:"h-10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"confirmPassword",children:"Confirmar nova senha"}),(0,a.jsx)(n.Input,{id:"confirmPassword",type:"password",value:w.confirmPassword,onChange:e=>j({...w,confirmPassword:e.target.value}),placeholder:"Confirme sua nova senha",className:"h-10"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(i.Button,{type:"button",variant:"outline",className:"flex-1 h-10",onClick:()=>x.back(),children:"Cancelar"}),(0,a.jsxs)(i.Button,{type:"submit",className:"flex-1 h-10",children:[(0,a.jsx)(h,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})})})]}),(0,a.jsx)(o.MobileNav,{})]})}e.s(["default",()=>x],13576)}]);