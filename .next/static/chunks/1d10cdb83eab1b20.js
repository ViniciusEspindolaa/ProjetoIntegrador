(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15127,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=e.r(75597);function a({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},68123,(e,t,s)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"encodeURIPath",{enumerable:!0,get:function(){return r}})},43484,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadChunks",{enumerable:!0,get:function(){return i}});let r=e.r(1972),a=e.r(23674),l=e.r(46543),n=e.r(68123);function i({moduleIds:e}){if("undefined"!=typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let s=[];if(t.reactLoadableManifest&&e){let r=t.reactLoadableManifest;for(let t of e){if(!r[t])continue;let e=r[t].files;s.push(...e)}}return 0===s.length?null:(0,r.jsx)(r.Fragment,{children:s.map(e=>{let s=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:s,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(s,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},28834,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let r=e.r(1972),a=e.r(75305),l=e.r(15127),n=e.r(43484);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},s=(0,a.lazy)(()=>t.loader().then(i)),d=t.loading;function c(e){let i=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?a.Suspense:a.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(s,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(c,{...o?{fallback:i}:{},children:u})}return c.displayName="LoadableComponent",c}},30698,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a}});let r=e.r(81258)._(e.r(28834));function a(e,t){let s={};"function"==typeof e&&(s.loader=e);let a={...s,...t};return(0,r.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},80727,e=>{"use strict";var t=e.i(75305),s=e.i(41616);function r(e){let[r,a]=t.useState(void 0);return(0,s.useLayoutEffect)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,r;if(!Array.isArray(t)||!t.length)return;let l=t[0];if("borderBoxSize"in l){let e=l.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,r=t.blockSize}else s=e.offsetWidth,r=e.offsetHeight;a({width:s,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),r}e.s(["useSize",()=>r])},75825,e=>{"use strict";var t=e.i(75305);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},10708,15595,e=>{"use strict";var t=e.i(1972),s=e.i(75305);e.i(23674);var r=e.i(7290),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let l=(0,r.createSlot)(`Primitive.${a}`),n=s.forwardRef((e,s)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?l:a,{...n,ref:s})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{});e.s(["Primitive",()=>a],15595);var l=s.forwardRef((e,s)=>(0,t.jsx)(a.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=e.i(47163);function i({className:e,...s}){return(0,t.jsx)(l,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>i],10708)},23750,e=>{"use strict";var t=e.i(1972),s=e.i(47163);function r({className:e,type:r,...a}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>r])},84762,e=>{"use strict";var t=e.i(1972),s=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},84675,e=>{"use strict";let t=(0,e.i(10965).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],84675)},80577,e=>{"use strict";var t=e.i(75305);function s(e){let s=t.useRef(e);return t.useEffect(()=>{s.current=e}),t.useMemo(()=>(...e)=>s.current?.(...e),[])}e.s(["useCallbackRef",()=>s])},70065,e=>{"use strict";var t=e.i(1972),s=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function a({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>n,"CardHeader",()=>a,"CardTitle",()=>l])},41616,e=>{"use strict";var t=e.i(75305),s=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>s])},49110,e=>{"use strict";let t=(0,e.i(10965).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],49110)},91967,53441,e=>{"use strict";function t(e,s,{checkForDefaultPrevented:r=!0}={}){return function(t){if(e?.(t),!1===r||!t.defaultPrevented)return s?.(t)}}"undefined"!=typeof window&&window.document&&window.document.createElement,e.s(["composeEventHandlers",()=>t],91967);var s=e.i(75305),r=e.i(1972);function a(e,t){let a=s.createContext(t),l=e=>{let{children:t,...l}=e,n=s.useMemo(()=>l,Object.values(l));return(0,r.jsx)(a.Provider,{value:n,children:t})};return l.displayName=e+"Provider",[l,function(r){let l=s.useContext(a);if(l)return l;if(void 0!==t)return t;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function l(e,t=[]){let a=[],n=()=>{let t=a.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return n.scopeName=e,[function(t,l){let n=s.createContext(l),i=a.length;a=[...a,l];let o=t=>{let{scope:a,children:l,...o}=t,d=a?.[e]?.[i]||n,c=s.useMemo(()=>o,Object.values(o));return(0,r.jsx)(d.Provider,{value:c,children:l})};return o.displayName=t+"Provider",[o,function(r,a){let o=a?.[e]?.[i]||n,d=s.useContext(o);if(d)return d;if(void 0!==l)return l;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:s,scopeName:r})=>{let a=s(e)[`__scope${r}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(n,...t)]}e.s(["createContext",()=>a,"createContextScope",()=>l],53441)},7094,42621,e=>{"use strict";var t=e.i(75305),s=e.i(23674),r=e.i(50310),a=e.i(1972);function l(e){var s;let l,n=(s=e,(l=t.forwardRef((e,s)=>{let{children:a,...l}=e;if(t.isValidElement(a)){var n;let e,i,o=(n=a,(i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(i=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),d=function(e,t){let s={...t};for(let r in t){let a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?s[r]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(s[r]=a):"style"===r?s[r]={...a,...l}:"className"===r&&(s[r]=[a,l].filter(Boolean).join(" "))}return{...e,...s}}(l,a.props);return a.type!==t.Fragment&&(d.ref=s?(0,r.composeRefs)(s,o):o),t.cloneElement(a,d)}return t.Children.count(a)>1?t.Children.only(null):null})).displayName=`${s}.SlotClone`,l),i=t.forwardRef((e,s)=>{let{children:r,...l}=e,i=t.Children.toArray(r),d=i.find(o);if(d){let e=d.props.children,r=i.map(s=>s!==d?s:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(n,{...l,ref:s,children:t.isValidElement(e)?t.cloneElement(e,void 0,r):null})}return(0,a.jsx)(n,{...l,ref:s,children:r})});return i.displayName=`${e}.Slot`,i}var n=Symbol("radix.slottable");function i(e){let t=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=n,t}function o(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===n}e.s(["createSlot",()=>l,"createSlottable",()=>i],42621);var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let r=l(`Primitive.${s}`),n=t.forwardRef((e,t)=>{let{asChild:l,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(l?r:s,{...n,ref:t})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{});function c(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>d,"dispatchDiscreteCustomEvent",()=>c],7094)},61331,e=>{"use strict";var t=e.i(75305),s=e.i(41616);t[" useEffectEvent ".trim().toString()],t[" useInsertionEffect ".trim().toString()];var r=t[" useInsertionEffect ".trim().toString()]||s.useLayoutEffect;function a({prop:e,defaultProp:s,onChange:a=()=>{},caller:l}){let[n,i,o]=function({defaultProp:e,onChange:s}){let[a,l]=t.useState(e),n=t.useRef(a),i=t.useRef(s);return r(()=>{i.current=s},[s]),t.useEffect(()=>{n.current!==a&&(i.current?.(a),n.current=a)},[a,n]),[a,l,i]}({defaultProp:s,onChange:a}),d=void 0!==e,c=d?e:n;{let s=t.useRef(void 0!==e);t.useEffect(()=>{let e=s.current;if(e!==d){let t=d?"controlled":"uncontrolled";console.warn(`${l} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}s.current=d},[d,l])}return[c,t.useCallback(t=>{if(d){let s="function"==typeof t?t(e):t;s!==e&&o.current?.(s)}else i(t)},[d,e,i,o])]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>a],61331)},25277,8920,e=>{"use strict";var t=e.i(75305),s=e.i(53441),r=e.i(50310),a=e.i(42621),l=e.i(1972);function n(e){let n=e+"CollectionProvider",[i,o]=(0,s.createContextScope)(n),[d,c]=i(n,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:s,children:r}=e,a=t.default.useRef(null),n=t.default.useRef(new Map).current;return(0,l.jsx)(d,{scope:s,itemMap:n,collectionRef:a,children:r})};u.displayName=n;let m=e+"CollectionSlot",f=(0,a.createSlot)(m),h=t.default.forwardRef((e,t)=>{let{scope:s,children:a}=e,n=c(m,s),i=(0,r.useComposedRefs)(t,n.collectionRef);return(0,l.jsx)(f,{ref:i,children:a})});h.displayName=m;let p=e+"CollectionItemSlot",x="data-radix-collection-item",v=(0,a.createSlot)(p),g=t.default.forwardRef((e,s)=>{let{scope:a,children:n,...i}=e,o=t.default.useRef(null),d=(0,r.useComposedRefs)(s,o),u=c(p,a);return t.default.useEffect(()=>(u.itemMap.set(o,{ref:o,...i}),()=>void u.itemMap.delete(o))),(0,l.jsx)(v,{...{[x]:""},ref:d,children:n})});return g.displayName=p,[{Provider:u,Slot:h,ItemSlot:g},function(s){let r=c(e+"CollectionConsumer",s);return t.default.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${x}]`));return Array.from(r.itemMap.values()).sort((e,s)=>t.indexOf(e.ref.current)-t.indexOf(s.ref.current))},[r.collectionRef,r.itemMap])},o]}var i=new WeakMap;function o(e,t){var s,r;let a,l,n;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let i=(s=e,r=t,a=s.length,(n=(l=d(r))>=0?l:a+l)<0||n>=a?-1:n);return -1===i?void 0:e[i]}function d(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],i.set(this,!0)}set(e,t){return i.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,s){let r,a=this.has(t),l=this.#e.length,n=d(e),i=n>=0?n:l+n,o=i<0||i>=l?-1:i;if(o===this.size||a&&o===this.size-1||-1===o)return this.set(t,s),this;let c=this.size+ +!a;n<0&&i++;let u=[...this.#e],m=!1;for(let e=i;e<c;e++)if(i===e){let l=u[e];u[e]===t&&(l=u[e+1]),a&&this.delete(t),r=this.get(l),this.set(t,s)}else{m||u[e-1]!==t||(m=!0);let s=u[m?e:e-1],a=r;r=this.get(s),this.delete(s),this.set(s,a)}return this}with(t,s,r){let a=new e(this);return a.insert(t,s,r),a}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,s){let r=this.#e.indexOf(e);return -1===r?this:this.insert(r,t,s)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,s){let r=this.#e.indexOf(e);return -1===r?this:this.insert(r+1,t,s)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=o(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=o(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return o(this.#e,e)}from(e,t){let s=this.indexOf(e);if(-1===s)return;let r=s+t;return r<0&&(r=0),r>=this.size&&(r=this.size-1),this.at(r)}keyFrom(e,t){let s=this.indexOf(e);if(-1===s)return;let r=s+t;return r<0&&(r=0),r>=this.size&&(r=this.size-1),this.keyAt(r)}find(e,t){let s=0;for(let r of this){if(Reflect.apply(e,t,[r,s,this]))return r;s++}}findIndex(e,t){let s=0;for(let r of this){if(Reflect.apply(e,t,[r,s,this]))return s;s++}return -1}filter(t,s){let r=[],a=0;for(let e of this)Reflect.apply(t,s,[e,a,this])&&r.push(e),a++;return new e(r)}map(t,s){let r=[],a=0;for(let e of this)r.push([e[0],Reflect.apply(t,s,[e,a,this])]),a++;return new e(r)}reduce(...e){let[t,s]=e,r=0,a=s??this.at(0);for(let s of this)a=0===r&&1===e.length?s:Reflect.apply(t,this,[a,s,r,this]),r++;return a}reduceRight(...e){let[t,s]=e,r=s??this.at(-1);for(let s=this.size-1;s>=0;s--){let a=this.at(s);r=s===this.size-1&&1===e.length?a:Reflect.apply(t,this,[r,a,s,this])}return r}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let s=this.keyAt(e),r=this.get(s);t.set(s,r)}return t}toSpliced(...t){let s=[...this.entries()];return s.splice(...t),new e(s)}slice(t,s){let r=new e,a=this.size-1;if(void 0===t)return r;t<0&&(t+=this.size),void 0!==s&&s>0&&(a=s-1);for(let e=t;e<=a;e++){let t=this.keyAt(e),s=this.get(t);r.set(t,s)}return r}every(e,t){let s=0;for(let r of this){if(!Reflect.apply(e,t,[r,s,this]))return!1;s++}return!0}some(e,t){let s=0;for(let r of this){if(Reflect.apply(e,t,[r,s,this]))return!0;s++}return!1}}),e.s(["createCollection",()=>n],25277);var c=t.createContext(void 0);function u(e){let s=t.useContext(c);return e||s||"ltr"}e.s(["useDirection",()=>u],8920)},83272,e=>{"use strict";let t=(0,e.i(10965).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],83272)},21375,e=>{"use strict";var t=e.i(1972),s=e.i(75305),r=e.i(30499),a=e.i(91432),l=e.i(67881),n=e.i(23750),i=e.i(10708),o=e.i(84762),d=e.i(62870),c=e.i(70065),u=e.i(84675),m=e.i(83272),f=e.i(34290),h=e.i(49110),p=e.i(28849);let x=(0,e.i(30698).default)(()=>e.A(63108),{loadableGenerated:{modules:[78264]},ssr:!1});function v(){let{user:e,isLoading:v}=(0,a.useAuth)(),g=(0,r.useRouter)(),[b,y]=(0,s.useState)("lost"),[j,N]=(0,s.useState)(""),[w,C]=(0,s.useState)("dog"),[S,R]=(0,s.useState)(""),[P,O]=(0,s.useState)("medium"),[k,E]=(0,s.useState)(""),[A,_]=(0,s.useState)(""),[I,z]=(0,s.useState)(""),[M,L]=(0,s.useState)(""),[$,D]=(0,s.useState)(""),[F,T]=(0,s.useState)(null),[B,q]=(0,s.useState)(""),[U,V]=(0,s.useState)(!1),[G,W]=(0,s.useState)([]),[H,X]=(0,s.useState)(""),[J,K]=(0,s.useState)(""),[Q,Y]=(0,s.useState)(null),[Z,ee]=(0,s.useState)(!1),[et,es]=(0,s.useState)(!1);(0,s.useEffect)(()=>{v||e||g.push("/login")},[e,v,g]);let er=async()=>{if(B&&!(B.trim().length<3)){V(!0);try{let e=encodeURIComponent(B),t=await fetch(`https://nominatim.openstreetmap.org/search?q=${e}&format=json&limit=8&addressdetails=1`),s=(await t.json()||[]).filter(e=>{let t=e.address||{},s=!!(t.road||t.pedestrian||t.footway||t.cycleway||t.house_number),r=!!(t.city||t.town||t.village||t.county||t.state);return s&&r});W(s)}catch(e){console.error("Erro ao buscar endereço",e),W([])}finally{V(!1)}}};function ea(e){let t=e.address||{},s=t.road||t.pedestrian||t.footway||t.cycleway||"";t.house_number&&(s=s?`${s}, ${t.house_number}`:`${t.house_number}`);let r=t.city||t.town||t.village||t.county||t.state||"",a=[];return s&&a.push(s),r&&a.push(r),a.length?a.join(", "):e.display_name||""}(0,s.useEffect)(()=>{(async()=>{if(F)try{let e=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${F.lat}&lon=${F.lng}&format=json&addressdetails=1`),t=await e.json(),s=t?.address||{},r=s.road||s.pedestrian||s.footway||s.cycleway||"",a=s.house_number||"",l=a?r?`${r}, ${a}`:a:r;_(l||"");let n=s.neighbourhood||s.suburb||s.village||s.hamlet||"";L(n);let i=s.city||s.town||s.village||s.county||s.state||"";z(i)}catch(e){console.error("Erro no reverse geocoding",e)}})()},[F]);let el=async t=>{if(t.preventDefault(),ee(!0),!F){alert('Selecione a localização no mapa ou use "Usar Minha Localização Atual" antes de publicar.'),ee(!1);return}try{let t={usuarioId:e?.id,titulo:`${"lost"===b?"Pet perdido":"found"===b?"Pet encontrado":"Pet para adoção"} - ${j||S||"Sem nome"}`,descricao:H,fotos_urls:[],latitude:Number(F.lat),longitude:Number(F.lng),endereco_texto:A||G[0]?.display_name||"",bairro:M||void 0,tipo:{lost:"PERDIDO",found:"ENCONTRADO",adoption:"ADOCAO"}[b]||"PERDIDO",especie:{dog:"CACHORRO",cat:"GATO",other:"OUTRO"}[w]||"OUTRO",nome_pet:j||void 0,raca:S||void 0,porte:{small:"PEQUENO",medium:"MEDIO",large:"GRANDE"}[P]||void 0,idade:parseInt(k)||void 0,data_evento:$||new Date().toISOString()};await apiFetch("/api/publicacoes",{method:"POST",body:JSON.stringify(t)}),alert("Pet cadastrado com sucesso!"),g.push("/")}catch(e){console.error("Erro ao criar publicação",e),alert(`Erro ao publicar: ${e?.message||"verifique o console"}`)}finally{ee(!1)}};return v?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-orange-50 pb-6",children:(0,t.jsxs)("main",{className:"container mx-auto px-3 py-3 sm:px-4 sm:py-6 max-w-2xl",children:[(0,t.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>g.push("/"),className:"p-2 h-auto",children:(0,t.jsx)(u.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-base sm:text-xl font-bold",children:"Novo Anúncio"}),(0,t.jsx)("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Preencha as informações do pet"})]})]}),(0,t.jsxs)("form",{onSubmit:el,className:"space-y-3 sm:space-y-6",children:[(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"p-3 sm:p-4",children:[(0,t.jsx)(i.Label,{htmlFor:"status",className:"mb-2 block text-sm",children:"Tipo de anúncio *"}),(0,t.jsxs)(d.Select,{value:b,onValueChange:e=>y(e),children:[(0,t.jsx)(d.SelectTrigger,{id:"status",className:"h-9 text-sm sm:h-10",children:(0,t.jsx)(d.SelectValue,{})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"lost",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,t.jsx)("span",{children:"Perdido - Meu pet desapareceu"})]})}),(0,t.jsx)(d.SelectItem,{value:"found",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{children:"Encontrado - Encontrei um pet"})]})}),(0,t.jsx)(d.SelectItem,{value:"adoption",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"Adoção - Pet para adotar"})]})})]})]})]})}),(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"p-3 sm:p-4",children:[(0,t.jsx)(i.Label,{className:"mb-2 block text-sm",children:"Foto do pet *"}),Q?(0,t.jsxs)("div",{className:"relative aspect-video rounded-lg overflow-hidden",children:[(0,t.jsx)(p.default,{src:Q||"/placeholder.svg",alt:"Preview",fill:!0,className:"object-cover"}),(0,t.jsx)("button",{type:"button",onClick:()=>Y(null),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 active:scale-95",children:(0,t.jsx)(f.X,{className:"w-4 h-4"})})]}):(0,t.jsxs)("label",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 sm:p-8 flex flex-col items-center justify-center cursor-pointer hover:border-gray-400 transition-colors active:bg-gray-50",children:[(0,t.jsx)(m.Upload,{className:"w-10 h-10 text-gray-400 mb-2"}),(0,t.jsx)("p",{className:"text-sm font-medium mb-0.5",children:"Clique para enviar uma foto"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG até 10MB"}),(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{Y(e.result)},e.readAsDataURL(t)}},required:!0})]})]})}),(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"p-3 sm:p-4 space-y-3 sm:space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Informações do Pet"}),("lost"===b||"adoption"===b)&&(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(i.Label,{htmlFor:"name",className:"text-xs sm:text-sm",children:["Nome ","lost"===b?"*":"(opcional)"]}),(0,t.jsx)(n.Input,{id:"name",placeholder:"Ex: Rex, Luna...",value:j,onChange:e=>N(e.target.value),required:"lost"===b,className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2.5 sm:gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"type",className:"text-xs sm:text-sm",children:"Tipo *"}),(0,t.jsxs)(d.Select,{value:w,onValueChange:e=>C(e),children:[(0,t.jsx)(d.SelectTrigger,{id:"type",className:"h-9 text-sm",children:(0,t.jsx)(d.SelectValue,{})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"dog",children:"Cachorro"}),(0,t.jsx)(d.SelectItem,{value:"cat",children:"Gato"}),(0,t.jsx)(d.SelectItem,{value:"other",children:"Outro"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"size",className:"text-xs sm:text-sm",children:"Porte *"}),(0,t.jsxs)(d.Select,{value:P,onValueChange:e=>O(e),children:[(0,t.jsx)(d.SelectTrigger,{id:"size",className:"h-9 text-sm",children:(0,t.jsx)(d.SelectValue,{})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"small",children:"Pequeno"}),(0,t.jsx)(d.SelectItem,{value:"medium",children:"Médio"}),(0,t.jsx)(d.SelectItem,{value:"large",children:"Grande"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2.5 sm:gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"breed",className:"text-xs sm:text-sm",children:"Raça *"}),(0,t.jsx)(n.Input,{id:"breed",placeholder:"Ex: Labrador, Siamês...",value:S,onChange:e=>R(e.target.value),required:!0,className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"age",className:"text-xs sm:text-sm",children:"Idade (opcional)"}),(0,t.jsx)(n.Input,{id:"age",placeholder:"Ex: 3 anos, 6 meses...",value:k,onChange:e=>E(e.target.value),className:"h-9 text-sm"})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"eventDate",className:"text-xs sm:text-sm",children:"lost"===b?"Data em que se perdeu *":"found"===b?"Data em que foi encontrado *":"Disponível desde (opcional)"}),(0,t.jsx)(n.Input,{id:"eventDate",type:"date",value:$,onChange:e=>D(e.target.value),required:"adoption"!==b,className:"h-9 text-sm",max:new Date().toISOString().split("T")[0]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"description",className:"text-xs sm:text-sm",children:"Descrição *"}),(0,t.jsx)(o.Textarea,{id:"description",placeholder:"lost"===b?"Descreva características marcantes, comportamento, onde foi visto pela última vez...":"found"===b?"Descreva onde encontrou o pet, características marcantes...":"Descreva o temperamento, se está vacinado, castrado...",value:H,onChange:e=>X(e.target.value),required:!0,rows:4,className:"text-sm resize-none"})]})]})}),(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"p-3 sm:p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Localização"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"lost"===b?"Onde o pet foi visto pela última vez?":"found"===b?"Onde o pet foi encontrado?":"Onde o pet está localizado?"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"Buscar endereço (ex: Rua, bairro, cidade)",value:B,onChange:e=>q(e.target.value),className:"flex-1 border rounded px-2 py-1 text-sm"}),(0,t.jsx)("button",{type:"button",onClick:er,className:"bg-slate-100 px-3 rounded text-sm",children:U?"Buscando...":"Buscar"})]}),G.length>0&&(0,t.jsx)("div",{className:"max-h-40 overflow-auto mb-2 border rounded p-2 bg-white",children:G.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{T({lat:parseFloat(e.lat),lng:parseFloat(e.lon)}),_(ea(e));let t=e.address||{};L(t.neighbourhood||t.suburb||t.village||t.hamlet||""),z(t.city||t.town||t.village||t.county||t.state||""),W([])},className:"w-full text-left p-1 text-sm hover:bg-slate-50",children:ea(e)},e.place_id))}),(0,t.jsx)(x,{latitude:F?.lat??null,longitude:F?.lng??null,onChange:(e,t)=>{T({lat:e,lng:t})}}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)(l.Button,{type:"button",variant:"outline",onClick:()=>{es(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:s}=e.coords;T({lat:t,lng:s}),es(!1),alert(`Localiza\xe7\xe3o capturada: ${t.toFixed(6)}, ${s.toFixed(6)}`)},e=>{es(!1),alert("Não foi possível obter sua localização. Verifique as permissões do navegador.")}):(es(!1),alert("Geolocalização não é suportada pelo seu navegador."))},disabled:et,className:"w-full h-9 text-sm",children:[(0,t.jsx)(h.MapPin,{className:"w-4 h-4 mr-2"}),et?"Obtendo localização...":"Usar Minha Localização Atual"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-2.5",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"location",className:"text-xs sm:text-sm",children:"Endereço (rua) *"}),(0,t.jsx)(n.Input,{id:"location",placeholder:"Ex: Av. Paulista, 1000",value:A,onChange:e=>_(e.target.value),required:!0,className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2.5",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"neighborhood",className:"text-xs sm:text-sm",children:"Bairro"}),(0,t.jsx)(n.Input,{id:"neighborhood",placeholder:"Ex: Bela Vista",value:M,onChange:e=>L(e.target.value),className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"city",className:"text-xs sm:text-sm",children:"Cidade *"}),(0,t.jsx)(n.Input,{id:"city",placeholder:"Ex: São Paulo",value:I,onChange:e=>z(e.target.value),required:!0,className:"h-9 text-sm"})]})]})]})]}),F&&(0,t.jsx)("div",{className:"p-2 bg-green-50 border border-green-200 rounded-md",children:(0,t.jsxs)("p",{className:"text-xs text-green-800",children:["✓ Localização capturada: ",F.lat.toFixed(6),", ",F.lng.toFixed(6)]})}),(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground",children:"A localização no mapa ajuda outros usuários a visualizar exatamente onde o pet foi visto."})]})}),"lost"===b&&(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"p-3 sm:p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Recompensa (opcional)"}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{htmlFor:"reward",className:"text-xs sm:text-sm",children:"Valor da recompensa"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground text-sm",children:"R$"}),(0,t.jsx)(n.Input,{id:"reward",type:"number",placeholder:"0,00",className:"pl-10 h-9 text-sm",value:J,onChange:e=>K(e.target.value)})]})]})]})}),(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"p-3 sm:p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Contato"}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{className:"text-xs sm:text-sm",children:"Nome"}),(0,t.jsx)(n.Input,{value:e.name,disabled:!0,className:"h-9 text-sm"})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(i.Label,{className:"text-xs sm:text-sm",children:"Telefone (WhatsApp)"}),(0,t.jsx)(n.Input,{value:e.phone,disabled:!0,className:"h-9 text-sm"})]}),(0,t.jsx)("p",{className:"text-[10px] sm:text-sm text-muted-foreground",children:"Estas informações serão usadas para contato. Para alterá-las, vá em Perfil."})]})}),(0,t.jsx)(l.Button,{type:"submit",className:"w-full h-10 text-sm font-semibold sm:h-12",disabled:Z,children:Z?"Publicando...":"Publicar Anúncio"})]})]})}):null}e.s(["default",()=>v])},63108,e=>{e.v(t=>Promise.all(["static/chunks/c80f1e64956c9e5c.js","static/chunks/d1172a21c890a0c0.js"].map(t=>e.l(t))).then(()=>t(78264)))}]);