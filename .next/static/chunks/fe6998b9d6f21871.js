(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84675,e=>{"use strict";let t=(0,e.i(10965).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],84675)},80577,e=>{"use strict";var t=e.i(75305);function a(e){let a=t.useRef(e);return t.useEffect(()=>{a.current=e}),t.useMemo(()=>(...e)=>a.current?.(...e),[])}e.s(["useCallbackRef",()=>a])},27250,e=>{"use strict";let t=[{id:"1",userId:"1",status:"lost",name:"Rex",type:"dog",breed:"Labrador",size:"large",age:"3 anos",location:{lat:-23.5505,lng:-46.6333,address:"Av. Paulista, 1000",city:"São Paulo",neighborhood:"Bela Vista"},lastSeenDate:new Date("2024-01-15"),description:"Cachorro labrador dourado, muito amigável. Desapareceu com coleira vermelha.",photoUrl:"/golden-labrador-dog.jpg",reward:500,contactPhone:"+5511987654321",contactName:"João Silva",sightings:[{id:"s1",petId:"1",location:{lat:-23.5525,lng:-46.635,address:"Rua Augusta, 500",city:"São Paulo",neighborhood:"Consolação"},date:new Date("2024-01-16"),time:"14:30",description:"Vi ele correndo perto do parque",reporterName:"Maria Santos",reporterPhone:"+5511976543210",createdAt:new Date("2024-01-16")}],createdAt:new Date("2024-01-15")},{id:"2",userId:"2",status:"found",type:"cat",breed:"Siamês",size:"small",location:{lat:-23.5615,lng:-46.656,address:"Rua da Consolação, 300",city:"São Paulo",neighborhood:"Consolação"},lastSeenDate:new Date("2024-01-18"),description:"Gato siamês encontrado na rua, parece estar perdido. Está bem cuidado.",photoUrl:"/siamese-cat.png",contactPhone:"+5511965432109",contactName:"Ana Costa",sightings:[],createdAt:new Date("2024-01-18")},{id:"3",userId:"1",status:"adoption",name:"Luna",type:"cat",breed:"Vira-lata",size:"small",age:"1 ano",location:{lat:-23.5435,lng:-46.6395,address:"Bela Vista",city:"São Paulo",neighborhood:"Bela Vista"},lastSeenDate:new Date("2024-01-10"),description:"Gatinha muito carinhosa, castrada e vacinada. Procura um lar amoroso.",photoUrl:"/cute-white-cat.jpg",contactPhone:"+5511987654321",contactName:"João Silva",sightings:[],createdAt:new Date("2024-01-10")},{id:"4",userId:"3",status:"lost",name:"Mel",type:"dog",breed:"Shih Tzu",size:"small",age:"5 anos",location:{lat:-23.5745,lng:-46.6234,address:"Vila Mariana",city:"São Paulo",neighborhood:"Vila Mariana"},lastSeenDate:new Date("2024-01-20"),description:"Cachorrinha pequena, pelo longo marrom e branco. Muito dócil.",photoUrl:"/fluffy-shih-tzu.png",reward:300,contactPhone:"+5511954321098",contactName:"Carlos Oliveira",sightings:[],createdAt:new Date("2024-01-20")}],a=[{id:"n1",userId:"1",type:"sighting",petId:"1",title:"Novo avistamento de Rex",message:"Seu pet foi avistado na Rua Augusta",read:!1,createdAt:new Date("2024-01-16"),sighting:t[0].sightings[0]},{id:"n2",userId:"1",type:"nearby",petId:"2",title:"Pet encontrado próximo a você",message:"Um gato siamês foi encontrado perto da sua localização",read:!1,createdAt:new Date("2024-01-18")}];e.s(["mockNotifications",0,a,"mockPets",0,t])},27341,e=>{"use strict";var t=e.i(1972),a=e.i(75305),s=e.i(91967),r=e.i(53441),n=e.i(25277),i=e.i(50310),o=e.i(38738),l=e.i(7094),c=e.i(80577),d=e.i(61331),u=e.i(8920),m="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[p,g,f]=(0,n.createCollection)(h),[v,b]=(0,r.createContextScope)(h,[f]),[j,N]=v(h),w=a.forwardRef((e,a)=>(0,t.jsx)(p.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(p.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(y,{...e,ref:a})})}));w.displayName=h;var y=a.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:n,orientation:o,loop:p=!1,dir:f,currentTabStopId:v,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:N,onEntryFocus:w,preventScrollOnEntryFocus:y=!1,...C}=e,D=a.useRef(null),k=(0,i.useComposedRefs)(r,D),R=(0,u.useDirection)(f),[P,S]=(0,d.useControllableState)({prop:v,defaultProp:b??null,onChange:N,caller:h}),[T,I]=a.useState(!1),E=(0,c.useCallbackRef)(w),M=g(n),F=a.useRef(!1),[L,z]=a.useState(0);return a.useEffect(()=>{let e=D.current;if(e)return e.addEventListener(m,E),()=>e.removeEventListener(m,E)},[E]),(0,t.jsx)(j,{scope:n,orientation:o,dir:R,loop:p,currentTabStopId:P,onItemFocus:a.useCallback(e=>S(e),[S]),onItemShiftTab:a.useCallback(()=>I(!0),[]),onFocusableItemAdd:a.useCallback(()=>z(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>z(e=>e-1),[]),children:(0,t.jsx)(l.Primitive.div,{tabIndex:T||0===L?-1:0,"data-orientation":o,...C,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,s.composeEventHandlers)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!T){let t=new CustomEvent(m,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=M().filter(e=>e.focusable);A([e.find(e=>e.active),e.find(e=>e.id===P),...e].filter(Boolean).map(e=>e.ref.current),y)}}F.current=!1}),onBlur:(0,s.composeEventHandlers)(e.onBlur,()=>I(!1))})})}),C="RovingFocusGroupItem",D=a.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:n,focusable:i=!0,active:c=!1,tabStopId:d,children:u,...m}=e,x=(0,o.useId)(),h=d||x,f=N(C,n),v=f.currentTabStopId===h,b=g(n),{onFocusableItemAdd:j,onFocusableItemRemove:w,currentTabStopId:y}=f;return a.useEffect(()=>{if(i)return j(),()=>w()},[i,j,w]),(0,t.jsx)(p.ItemSlot,{scope:n,id:h,focusable:i,active:c,children:(0,t.jsx)(l.Primitive.span,{tabIndex:v?0:-1,"data-orientation":f.orientation,...m,ref:r,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{i?f.onItemFocus(h):e.preventDefault()}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,a){var s;let r=(s=e.key,"rtl"!==a?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return k[r]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){var a,s;"prev"===t&&r.reverse();let n=r.indexOf(e.currentTarget);r=f.loop?(a=r,s=n+1,a.map((e,t)=>a[(s+t)%a.length])):r.slice(n+1)}setTimeout(()=>A(r))}}),children:"function"==typeof u?u({isCurrentTabStop:v,hasTabStop:null!=y}):u})})});D.displayName=C;var k={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A(e,t=!1){let a=document.activeElement;for(let s of e)if(s===a||(s.focus({preventScroll:t}),document.activeElement!==a))return}var R=e.i(15049),P="Tabs",[S,T]=(0,r.createContextScope)(P,[b]),I=b(),[E,M]=S(P),F=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,onValueChange:n,defaultValue:i,orientation:c="horizontal",dir:m,activationMode:x="automatic",...h}=e,p=(0,u.useDirection)(m),[g,f]=(0,d.useControllableState)({prop:r,onChange:n,defaultProp:i??"",caller:P});return(0,t.jsx)(E,{scope:s,baseId:(0,o.useId)(),value:g,onValueChange:f,orientation:c,dir:p,activationMode:x,children:(0,t.jsx)(l.Primitive.div,{dir:p,"data-orientation":c,...h,ref:a})})});F.displayName=P;var L="TabsList",z=a.forwardRef((e,a)=>{let{__scopeTabs:s,loop:r=!0,...n}=e,i=M(L,s),o=I(s);return(0,t.jsx)(w,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:a})})});z.displayName=L;var B="TabsTrigger",V=a.forwardRef((e,a)=>{let{__scopeTabs:r,value:n,disabled:i=!1,...o}=e,c=M(B,r),d=I(r),u=U(c.baseId,n),m=G(c.baseId,n),x=n===c.value;return(0,t.jsx)(D,{asChild:!0,...d,focusable:!i,active:x,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:a,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||i||!e||c.onValueChange(n)})})})});V.displayName=B;var H="TabsContent",K=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:n,forceMount:i,children:o,...c}=e,d=M(H,r),u=U(d.baseId,n),m=G(d.baseId,n),x=n===d.value,h=a.useRef(x);return a.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(R.Presence,{present:i||x,children:({present:a})=>(0,t.jsx)(l.Primitive.div,{"data-state":x?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:m,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:a&&o})})});function U(e,t){return`${e}-trigger-${t}`}function G(e,t){return`${e}-content-${t}`}K.displayName=H;var _=e.i(47163);function q({className:e,...a}){return(0,t.jsx)(F,{"data-slot":"tabs",className:(0,_.cn)("flex flex-col gap-2",e),...a})}function O({className:e,...a}){return(0,t.jsx)(z,{"data-slot":"tabs-list",className:(0,_.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...a})}function $({className:e,...a}){return(0,t.jsx)(V,{"data-slot":"tabs-trigger",className:(0,_.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function J({className:e,...a}){return(0,t.jsx)(K,{"data-slot":"tabs-content",className:(0,_.cn)("flex-1 outline-none",e),...a})}e.s(["Tabs",()=>q,"TabsContent",()=>J,"TabsList",()=>O,"TabsTrigger",()=>$],27341)},11797,e=>{"use strict";var t=e.i(1972),a=e.i(75305),s=e.i(30499),r=e.i(91432),n=e.i(27250),i=e.i(70065),o=e.i(94179),l=e.i(67881),c=e.i(49110),d=e.i(79064),u=e.i(68793),m=e.i(74679),x=e.i(47163);function h({notification:e,onView:a,onMarkAsRead:s}){return(0,t.jsx)(i.Card,{className:(0,x.cn)("overflow-hidden cursor-pointer transition-colors hover:bg-gray-50 active:scale-[0.99]",!e.read&&"bg-teal-50 border-teal-200"),onClick:()=>a(e),children:(0,t.jsxs)(i.CardContent,{className:"p-2.5 sm:p-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(()=>{switch(e.type){case"sighting":return(0,t.jsx)(u.Eye,{className:"w-4 h-4 text-orange-600"});case"nearby":return(0,t.jsx)(c.MapPin,{className:"w-4 h-4 text-blue-600"});default:return(0,t.jsx)(d.Bell,{className:"w-4 h-4 text-gray-600"})}})()}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-0.5",children:[(0,t.jsx)(o.Badge,{variant:"secondary",className:"text-[9px] px-1.5 py-0.5 h-4",children:(()=>{switch(e.type){case"sighting":return"Avistamento";case"nearby":return"Pet próximo";default:return"Notificação"}})()}),!e.read&&(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-teal-600 rounded-full flex-shrink-0 mt-1"})]}),(0,t.jsx)("h3",{className:"font-semibold text-xs sm:text-sm mb-0.5 leading-tight",children:e.title}),(0,t.jsx)("p",{className:"text-[11px] text-muted-foreground mb-1 line-clamp-2 leading-snug",children:e.message}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-muted-foreground",children:[(0,t.jsx)(m.Calendar,{className:"w-3 h-3"}),new Date(e.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),!e.read&&(0,t.jsx)("div",{className:"mt-1.5 pt-1.5 border-t",children:(0,t.jsx)(l.Button,{size:"sm",variant:"outline",className:"w-full text-[10px] h-6",onClick:t=>{t.stopPropagation(),s(e.id)},children:"Marcar como lida"})})]})})}var p=e.i(30374),g=e.i(86591),f=e.i(84244),v=e.i(79971),b=e.i(10965);let j=(0,b.default)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);function N({notification:e,open:a,onClose:r}){let n=(0,s.useRouter)();return e?(0,t.jsx)(p.Dialog,{open:a,onOpenChange:r,children:(0,t.jsxs)(p.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(p.DialogHeader,{children:[(0,t.jsx)(p.DialogTitle,{children:e.title}),(0,t.jsx)(p.DialogDescription,{children:e.message})]}),(0,t.jsxs)("div",{className:"space-y-4",children:["sighting"===e.type&&e.sighting&&(0,t.jsxs)("div",{className:"border rounded-lg p-4 space-y-3 bg-gray-50",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Detalhes do Avistamento"}),(0,t.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)(c.MapPin,{className:"w-4 h-4 mt-0.5 text-muted-foreground flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.sighting.location.address}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:e.sighting.location.city})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Calendar,{className:"w-4 h-4"}),new Date(e.sighting.date).toLocaleDateString("pt-BR")]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(g.Clock,{className:"w-4 h-4"}),e.sighting.time]})]}),(0,t.jsxs)("div",{className:"pt-2 border-t",children:[(0,t.jsx)("p",{className:"text-sm mb-3",children:e.sighting.description}),(0,t.jsxs)("div",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.User,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Reportado por ",e.sighting.reporterName]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Phone,{className:"w-4 h-4"}),e.sighting.reporterPhone]})]})]})]}),"nearby"===e.type&&(0,t.jsx)("div",{className:"border rounded-lg p-4 bg-blue-50",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Um pet foi ",e.message.includes("encontrado")?"encontrado":"reportado"," próximo à sua localização. Clique no botão abaixo para ver no mapa."]})}),(0,t.jsxs)(l.Button,{className:"w-full",onClick:()=>{n.push(`/map?petId=${e.petId}`),r()},children:[(0,t.jsx)(j,{className:"w-4 h-4 mr-2"}),"Ver no Mapa"]})]})]})}):null}var w=e.i(89752),y=e.i(27341),C=e.i(84675);let D=(0,b.default)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);function k(){let{user:e,isLoading:i}=(0,r.useAuth)(),o=(0,s.useRouter)(),[c,d]=(0,a.useState)(n.mockNotifications),[u,m]=(0,a.useState)(null),[x,p]=(0,a.useState)("all");(0,a.useEffect)(()=>{i||e||o.push("/login")},[e,i,o]);let g=c.filter(e=>!e.read).length,f="unread"===x?c.filter(e=>!e.read):c,v=e=>{d(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},b=e=>{m(e),e.read||v(e.id)};return i?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-orange-50 pb-20",children:[(0,t.jsxs)("main",{className:"container mx-auto px-3 py-3 sm:px-4 sm:py-6",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>o.push("/"),className:"p-1.5",children:(0,t.jsx)(C.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-base sm:text-xl font-bold",children:"Notificações"}),g>0&&(0,t.jsxs)("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[g," não ",1===g?"lida":"lidas"]})]})]}),g>0&&(0,t.jsxs)(l.Button,{variant:"ghost",size:"sm",onClick:()=>{d(e=>e.map(e=>({...e,read:!0})))},className:"text-[10px] sm:text-xs px-2 h-7",children:[(0,t.jsx)(D,{className:"w-3.5 h-3.5 mr-1"}),"Marcar todas"]})]}),(0,t.jsx)(y.Tabs,{value:x,onValueChange:e=>p(e),children:(0,t.jsxs)(y.TabsList,{className:"w-full h-8 sm:h-10",children:[(0,t.jsxs)(y.TabsTrigger,{value:"all",className:"flex-1 text-xs sm:text-sm",children:["Todas (",c.length,")"]}),(0,t.jsxs)(y.TabsTrigger,{value:"unread",className:"flex-1 text-xs sm:text-sm",children:["Não lidas (",g,")"]})]})})]}),0===f.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,t.jsx)(D,{className:"w-6 h-6 text-gray-400"})}),(0,t.jsx)("h2",{className:"text-base font-semibold mb-1.5",children:"unread"===x?"Tudo em dia!":"Sem notificações"}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"unread"===x?"Você não tem notificações não lidas":"Você ainda não recebeu nenhuma notificação"})]}):(0,t.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,t.jsx)(h,{notification:e,onView:b,onMarkAsRead:v},e.id))})]}),(0,t.jsx)(N,{notification:u,open:!!u,onClose:()=>m(null)}),(0,t.jsx)(w.MobileNav,{})]}):null}e.s(["default",()=>k],11797)}]);