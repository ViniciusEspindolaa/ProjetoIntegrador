module.exports=[65066,a=>{"use strict";var b=a.i(46447),c=a.i(30564),d=a.i(1470),e=a.i(21937),f=a.i(95116),g=a.i(68058),h=a.i(41581),i=a.i(65733),j=a.i(40695),k=a.i(17171),l=a.i(46893),m=a.i(87682),n=a.i(61237);let o=(0,n.default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function p({pet:a,open:d,onOpenChange:e,onComplete:f}){let[g,h]=(0,c.useState)(""),[n,p]=(0,c.useState)("");return(0,b.jsx)(i.Dialog,{open:d,onOpenChange:e,children:(0,b.jsxs)(i.DialogContent,{className:"max-w-md",children:[(0,b.jsx)(i.DialogHeader,{children:(0,b.jsxs)(i.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o,{className:"w-5 h-5 text-green-600"}),"Finalizar Publicação"]})}),(0,b.jsxs)("form",{onSubmit:b=>{if(b.preventDefault(),a&&g){let b=n.trim()?`${g} - ${n}`:g;f(a.id,b),h(""),p(""),e(!1)}},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:(()=>{if(!a)return"";switch(a.status){case"lost":return"Pet foi encontrado?";case"found":return"Dono do pet foi localizado?";case"adoption":return"Pet foi adotado?";default:return"Finalizar publicação"}})()}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Label,{htmlFor:"reasonType",children:"Motivo da finalização *"}),(0,b.jsxs)(m.Select,{value:g,onValueChange:h,children:[(0,b.jsx)(m.SelectTrigger,{id:"reasonType",children:(0,b.jsx)(m.SelectValue,{placeholder:"Selecione o motivo"})}),(0,b.jsx)(m.SelectContent,{children:(()=>{if(!a)return[];switch(a.status){case"lost":return["Pet foi encontrado","Pet voltou para casa sozinho","Desistiu de procurar","Outros"];case"found":return["Tutor foi encontrado","Pet foi adotado por outra pessoa","Pet foi encaminhado para abrigo","Outros"];case"adoption":return["Pet foi adotado","Pet não está mais disponível","Desistiu da doação","Outros"];default:return["Outros"]}})().map(a=>(0,b.jsx)(m.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Label,{htmlFor:"reason",children:"Detalhes adicionais (opcional)"}),(0,b.jsx)(l.Textarea,{id:"reason",value:n,onChange:a=>p(a.target.value),placeholder:"Ex: Pet foi encontrado e está em casa com segurança!",rows:4,className:"resize-none"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Compartilhe detalhes sobre como a situação foi resolvida!"})]})]}),(0,b.jsxs)(i.DialogFooter,{className:"flex gap-2",children:[(0,b.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancelar"}),(0,b.jsx)(j.Button,{type:"submit",className:"flex-1",disabled:!g,children:"Finalizar"})]})]})]})})}var q=a.i(77011),r=a.i(3130),s=a.i(7706),t=a.i(21958),u=a.i(11374);let v=(0,n.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),w=(0,n.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),x=(0,n.default)("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);var y=a.i(23305),z=a.i(19113),A=a.i(75407),B=a.i(26345),C=a.i(1556);let D=(0,n.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var E=a.i(80028),F=a.i(77687);function G(){let{user:a,logout:i,isLoading:k}=(0,e.useAuth)(),l=(0,d.useRouter)(),{toast:m}=(0,F.useToast)(),[n,o]=(0,c.useState)([]),[G,H]=(0,c.useState)([]),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(null);(0,c.useEffect)(()=>{k||a||l.push("/login")},[a,k,l]),(0,c.useEffect)(()=>{a&&(o(f.mockPets.filter(b=>b.userId===a.id)),H(f.mockPets.flatMap(a=>a.sightings.map(b=>({...b,pet:{id:a.id,name:a.name,photoUrl:a.photoUrl}})))))},[a]);let O=a=>{l.push(`/pet/${a.id}/edit`)},P=a=>{L(a),J(!0)},Q=a=>{N(a)};return k?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):a?(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-orange-50 pb-20",children:[(0,b.jsxs)("main",{className:"container mx-auto px-3 py-3 sm:px-4 sm:py-6 space-y-3 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"mb-2.5 flex items-center gap-2",children:[(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>l.push("/"),className:"p-2 h-auto",children:(0,b.jsx)(u.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsx)("h1",{className:"text-base sm:text-xl font-bold",children:"Meu Perfil"})]}),(0,b.jsx)(r.Card,{children:(0,b.jsxs)(r.CardContent,{className:"p-3.5 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center text-left gap-4 flex-1",children:[(0,b.jsxs)(s.Avatar,{className:"w-20 h-20 sm:w-20 sm:h-20 mr-3",children:[(0,b.jsx)(s.AvatarImage,{src:a.photoUrl||"/placeholder.svg",alt:a.name}),(0,b.jsx)(s.AvatarFallback,{className:"bg-teal-600 text-white text-xl",children:a.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,b.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 leading-tight",children:a.name}),(0,b.jsxs)("div",{className:"space-y-1.5 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 justify-start",children:[(0,b.jsx)(B.Mail,{className:"w-3.5 h-3.5 shrink-0 text-muted-foreground"}),(0,b.jsx)("span",{className:"truncate text-muted-foreground text-xs sm:text-sm",children:a.email})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 justify-start",children:[(0,b.jsx)(A.Phone,{className:"w-3.5 h-3.5 shrink-0 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs sm:text-sm",children:a.phone})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 justify-start",children:[(0,b.jsx)(C.Calendar,{className:"w-3.5 h-3.5 shrink-0 text-muted-foreground"}),(0,b.jsxs)("span",{className:"text-muted-foreground text-xs",children:["Membro desde ",new Date(a.createdAt).toLocaleDateString("pt-BR",{month:"short",year:"numeric"})]})]})]})]})]}),(0,b.jsx)("div",{className:"w-full sm:w-80 p-3 sm:p-4 bg-gray-50 rounded-lg",children:(0,b.jsxs)("div",{className:"grid grid-cols-3 sm:grid-cols-3 gap-2.5 sm:gap-4 text-center",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:"text-2xl sm:text-2xl font-bold text-teal-600",children:n.length}),(0,b.jsx)("div",{className:"text-[10px] sm:text-xs text-muted-foreground mt-0.5 leading-tight",children:"Publicações"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:"text-2xl sm:text-2xl font-bold text-orange-600",children:G.length}),(0,b.jsx)("div",{className:"text-[10px] sm:text-xs text-muted-foreground mt-0.5 leading-tight",children:"Avistamentos"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:"text-2xl sm:text-2xl font-bold text-blue-600",children:n.reduce((a,b)=>a+b.sightings.length,0)}),(0,b.jsx)("div",{className:"text-[10px] sm:text-xs text-muted-foreground mt-0.5 leading-tight",children:"Recebidos"})]})]})})]}),(0,b.jsxs)(j.Button,{variant:"outline",className:"w-full mt-3 h-9 text-sm sm:h-10",onClick:()=>l.push("/profile/edit"),children:[(0,b.jsx)(D,{className:"w-4 h-4 mr-2"}),"Editar Perfil"]})]})}),(0,b.jsxs)(t.Tabs,{defaultValue:"posts",className:"w-full",children:[(0,b.jsxs)(t.TabsList,{className:"w-full h-9 sm:h-10",children:[(0,b.jsxs)(t.TabsTrigger,{value:"posts",className:"flex-1 text-xs sm:text-base",children:[(0,b.jsx)(x,{className:"w-4 h-4 mr-1.5"}),(0,b.jsx)("span",{className:"hidden xs:inline sm:inline",children:"Minhas "}),"Publicações"]}),(0,b.jsxs)(t.TabsTrigger,{value:"sightings",className:"flex-1 text-xs sm:text-base",children:[(0,b.jsx)(y.Eye,{className:"w-4 h-4 mr-1.5"}),"Avistamentos"]})]}),(0,b.jsx)(t.TabsContent,{value:"posts",className:"space-y-2.5 mt-3",children:0===n.length?(0,b.jsx)(r.Card,{children:(0,b.jsxs)(r.CardContent,{className:"p-8 text-center",children:[(0,b.jsx)(x,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-3 text-sm",children:"Você ainda não criou nenhuma publicação"}),(0,b.jsx)(j.Button,{onClick:()=>l.push("/new-pet"),className:"h-9",size:"sm",children:"Criar Publicação"})]})}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-2",children:n.map(a=>(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)(h.PetCard,{pet:a,onViewSightings:Q,onReportSighting:()=>{},onViewMap:()=>{},isOwner:!0,onEdit:O,onComplete:P,compactMode:!1})},a.id))})}),(0,b.jsx)(t.TabsContent,{value:"sightings",className:"space-y-2 mt-3",children:0===G.length?(0,b.jsx)(r.Card,{children:(0,b.jsxs)(r.CardContent,{className:"p-8 text-center",children:[(0,b.jsx)(y.Eye,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Você ainda não reportou nenhum avistamento"})]})}):G.map(a=>(0,b.jsx)(r.Card,{children:(0,b.jsxs)(r.CardContent,{className:"p-2.5",children:[(0,b.jsxs)("div",{className:"flex gap-2 mb-1.5",children:[(0,b.jsx)("div",{className:"relative w-10 h-10 shrink-0 rounded-lg overflow-hidden",children:(0,b.jsx)(E.default,{src:a.pet.photoUrl||"/placeholder.svg",alt:a.pet.name||"Pet",fill:!0,className:"object-cover"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"font-semibold text-xs leading-tight",children:["Avistamento de ",a.pet.name||"Pet"]}),(0,b.jsxs)("p",{className:"text-[10px] text-muted-foreground",children:[new Date(a.date).toLocaleDateString("pt-BR")," às ",a.time]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-1 text-[11px] mb-1",children:[(0,b.jsx)(z.MapPin,{className:"w-3 h-3 mt-0.5 text-muted-foreground shrink-0"}),(0,b.jsx)("span",{className:"line-clamp-1",children:a.location.address})]}),(0,b.jsx)("p",{className:"text-[11px] text-muted-foreground line-clamp-2 leading-snug",children:a.description})]})},a.id))})]}),(0,b.jsx)(r.Card,{children:(0,b.jsxs)(r.CardContent,{className:"p-2 sm:p-4 space-y-0.5",children:[(0,b.jsxs)(j.Button,{variant:"ghost",className:"w-full justify-start h-10 text-sm sm:h-12",onClick:()=>l.push("/profile/settings"),children:[(0,b.jsx)(v,{className:"w-4 h-4 mr-2.5"}),"Configurações"]}),(0,b.jsxs)(j.Button,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 h-10 text-sm sm:h-12",onClick:()=>{i(),l.push("/login")},children:[(0,b.jsx)(w,{className:"w-4 h-4 mr-2.5"}),"Sair"]})]})})]}),(0,b.jsx)(p,{pet:K,open:I,onOpenChange:J,onComplete:(a,b)=>{o(n.map(c=>c.id===a?{...c,completed:!0,completionReason:b,completedAt:new Date}:c)),m({title:"Publicação finalizada!",description:"Sua publicação foi marcada como finalizada com sucesso."})}}),(0,b.jsx)(q.ViewSightingsDialog,{pet:M,open:!!M,onClose:()=>N(null),isOwner:!0}),(0,b.jsx)(g.MobileNav,{})]}):null}a.s(["default",()=>G],65066)}];

//# sourceMappingURL=app_profile_page_tsx_d7e3fb30._.js.map