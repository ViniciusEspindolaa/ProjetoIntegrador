module.exports=[11374,a=>{"use strict";let b=(0,a.i(61237).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],11374)},68236,a=>{"use strict";var b=a.i(30564);function c(a){let c=b.useRef(a);return b.useEffect(()=>{c.current=a}),b.useMemo(()=>(...a)=>c.current?.(...a),[])}a.s(["useCallbackRef",()=>c])},95116,a=>{"use strict";let b=[{id:"1",userId:"1",status:"lost",name:"Rex",type:"dog",breed:"Labrador",size:"large",age:"3 anos",location:{lat:-23.5505,lng:-46.6333,address:"Av. Paulista, 1000",city:"São Paulo",neighborhood:"Bela Vista"},lastSeenDate:new Date("2024-01-15"),description:"Cachorro labrador dourado, muito amigável. Desapareceu com coleira vermelha.",photoUrl:"/golden-labrador-dog.jpg",reward:500,contactPhone:"+5511987654321",contactName:"João Silva",sightings:[{id:"s1",petId:"1",location:{lat:-23.5525,lng:-46.635,address:"Rua Augusta, 500",city:"São Paulo",neighborhood:"Consolação"},date:new Date("2024-01-16"),time:"14:30",description:"Vi ele correndo perto do parque",reporterName:"Maria Santos",reporterPhone:"+5511976543210",createdAt:new Date("2024-01-16")}],createdAt:new Date("2024-01-15")},{id:"2",userId:"2",status:"found",type:"cat",breed:"Siamês",size:"small",location:{lat:-23.5615,lng:-46.656,address:"Rua da Consolação, 300",city:"São Paulo",neighborhood:"Consolação"},lastSeenDate:new Date("2024-01-18"),description:"Gato siamês encontrado na rua, parece estar perdido. Está bem cuidado.",photoUrl:"/siamese-cat.png",contactPhone:"+5511965432109",contactName:"Ana Costa",sightings:[],createdAt:new Date("2024-01-18")},{id:"3",userId:"1",status:"adoption",name:"Luna",type:"cat",breed:"Vira-lata",size:"small",age:"1 ano",location:{lat:-23.5435,lng:-46.6395,address:"Bela Vista",city:"São Paulo",neighborhood:"Bela Vista"},lastSeenDate:new Date("2024-01-10"),description:"Gatinha muito carinhosa, castrada e vacinada. Procura um lar amoroso.",photoUrl:"/cute-white-cat.jpg",contactPhone:"+5511987654321",contactName:"João Silva",sightings:[],createdAt:new Date("2024-01-10")},{id:"4",userId:"3",status:"lost",name:"Mel",type:"dog",breed:"Shih Tzu",size:"small",age:"5 anos",location:{lat:-23.5745,lng:-46.6234,address:"Vila Mariana",city:"São Paulo",neighborhood:"Vila Mariana"},lastSeenDate:new Date("2024-01-20"),description:"Cachorrinha pequena, pelo longo marrom e branco. Muito dócil.",photoUrl:"/fluffy-shih-tzu.png",reward:300,contactPhone:"+5511954321098",contactName:"Carlos Oliveira",sightings:[],createdAt:new Date("2024-01-20")}],c=[{id:"n1",userId:"1",type:"sighting",petId:"1",title:"Novo avistamento de Rex",message:"Seu pet foi avistado na Rua Augusta",read:!1,createdAt:new Date("2024-01-16"),sighting:b[0].sightings[0]},{id:"n2",userId:"1",type:"nearby",petId:"2",title:"Pet encontrado próximo a você",message:"Um gato siamês foi encontrado perto da sua localização",read:!1,createdAt:new Date("2024-01-18")}];a.s(["mockNotifications",0,c,"mockPets",0,b])},97568,a=>{"use strict";let b=(0,a.i(61237).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);a.s(["Upload",()=>b],97568)},85187,a=>{"use strict";var b=a.i(46447),c=a.i(30564),d=a.i(1470),e=a.i(21937),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(46893),j=a.i(87682),k=a.i(3130),l=a.i(11374),m=a.i(97568),n=a.i(32267),o=a.i(19113),p=a.i(80028),q=a.i(95116);function r(){let{user:a,isLoading:r}=(0,e.useAuth)(),s=(0,d.useRouter)(),t=(0,d.useParams)().id,[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)("lost"),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)("dog"),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)("medium"),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(""),[U,V]=(0,c.useState)(null),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(!r&&!a)return void s.push("/login");let b=q.mockPets.find(a=>a.id===t);if(b){if(b.userId!==a?.id){alert("Você não tem permissão para editar esta publicação."),s.push("/");return}x(b.status),z(b.name||""),B(b.type),D(b.breed),F(b.size),H(b.age||""),J(b.location.address),L(b.location.city),N(new Date(b.lastSeenDate).toISOString().split("T")[0]),P({lat:b.location.lat,lng:b.location.lng}),R(b.description),T(b.reward?.toString()||""),V(b.photoUrl)}v(!1)},[a,r,s,t]);let $=async a=>{a.preventDefault(),X(!0),await new Promise(a=>setTimeout(a,1500)),alert("Publicação atualizada com sucesso!"),s.push("/profile")};return r||u?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-orange-50 pb-6",children:(0,b.jsxs)("main",{className:"container mx-auto px-3 py-3 sm:px-4 sm:py-6 max-w-2xl",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>s.push("/profile"),className:"p-2 h-auto",children:(0,b.jsx)(l.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-base sm:text-xl font-bold",children:"Editar Anúncio"}),(0,b.jsx)("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Atualize as informações do pet"})]})]}),(0,b.jsxs)("form",{onSubmit:$,className:"space-y-3 sm:space-y-6",children:[(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"p-3 sm:p-4",children:[(0,b.jsx)(h.Label,{htmlFor:"status",className:"mb-2 block text-sm",children:"Tipo de anúncio *"}),(0,b.jsxs)(j.Select,{value:w,onValueChange:a=>x(a),children:[(0,b.jsx)(j.SelectTrigger,{id:"status",className:"h-9 text-sm sm:h-10",children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"lost",children:"Perdido"}),(0,b.jsx)(j.SelectItem,{value:"found",children:"Encontrado"}),(0,b.jsx)(j.SelectItem,{value:"adoption",children:"Adoção"})]})]})]})}),(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"p-3 sm:p-4",children:[(0,b.jsx)(h.Label,{className:"mb-2 block text-sm",children:"Foto do pet *"}),U?(0,b.jsxs)("div",{className:"relative aspect-video rounded-lg overflow-hidden",children:[(0,b.jsx)(p.default,{src:U||"/placeholder.svg",alt:"Preview",fill:!0,className:"object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>V(null),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100",children:(0,b.jsx)(n.X,{className:"w-4 h-4"})})]}):(0,b.jsxs)("label",{className:"border-2 border-dashed rounded-lg p-8 flex flex-col items-center cursor-pointer",children:[(0,b.jsx)(m.Upload,{className:"w-10 h-10 text-gray-400 mb-2"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Clique para enviar uma foto"}),(0,b.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:a=>{let b=a.target.files?.[0];if(b){let a=new FileReader;a.onloadend=()=>{V(a.result)},a.readAsDataURL(b)}}})]})]})}),(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"p-3 sm:p-4 space-y-3 sm:space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:"Informações do Pet"}),("lost"===w||"adoption"===w)&&(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"name",className:"text-xs sm:text-sm",children:"Nome *"}),(0,b.jsx)(g.Input,{id:"name",value:y,onChange:a=>z(a.target.value),required:!0,className:"h-9 text-sm"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2.5",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"type",className:"text-xs sm:text-sm",children:"Tipo *"}),(0,b.jsxs)(j.Select,{value:A,onValueChange:a=>B(a),children:[(0,b.jsx)(j.SelectTrigger,{id:"type",className:"h-9 text-sm",children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"dog",children:"Cachorro"}),(0,b.jsx)(j.SelectItem,{value:"cat",children:"Gato"}),(0,b.jsx)(j.SelectItem,{value:"other",children:"Outro"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"size",className:"text-xs sm:text-sm",children:"Porte *"}),(0,b.jsxs)(j.Select,{value:E,onValueChange:a=>F(a),children:[(0,b.jsx)(j.SelectTrigger,{id:"size",className:"h-9 text-sm",children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"small",children:"Pequeno"}),(0,b.jsx)(j.SelectItem,{value:"medium",children:"Médio"}),(0,b.jsx)(j.SelectItem,{value:"large",children:"Grande"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2.5",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"breed",className:"text-xs sm:text-sm",children:"Raça *"}),(0,b.jsx)(g.Input,{id:"breed",value:C,onChange:a=>D(a.target.value),required:!0,className:"h-9 text-sm"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"age",className:"text-xs sm:text-sm",children:"Idade"}),(0,b.jsx)(g.Input,{id:"age",value:G,onChange:a=>H(a.target.value),className:"h-9 text-sm"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"eventDate",className:"text-xs sm:text-sm",children:"lost"===w?"Data em que se perdeu *":"Data em que foi encontrado *"}),(0,b.jsx)(g.Input,{id:"eventDate",type:"date",value:M,onChange:a=>N(a.target.value),required:!0,className:"h-9 text-sm"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"description",className:"text-xs sm:text-sm",children:"Descrição *"}),(0,b.jsx)(i.Textarea,{id:"description",value:Q,onChange:a=>R(a.target.value),required:!0,rows:4,className:"text-sm"})]})]})}),(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"p-3 sm:p-4 space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:"Localização"}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"location",className:"text-xs sm:text-sm",children:"Endereço *"}),(0,b.jsx)(g.Input,{id:"location",value:I,onChange:a=>J(a.target.value),required:!0,className:"h-9 text-sm"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"city",className:"text-xs sm:text-sm",children:"Cidade *"}),(0,b.jsx)(g.Input,{id:"city",value:K,onChange:a=>L(a.target.value),required:!0,className:"h-9 text-sm"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{className:"text-xs sm:text-sm",children:"Localização no mapa"}),(0,b.jsxs)(f.Button,{type:"button",variant:"outline",onClick:()=>{Z(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>{let{latitude:b,longitude:c}=a.coords;P({lat:b,lng:c}),Z(!1),alert(`Localiza\xe7\xe3o capturada: ${b.toFixed(6)}, ${c.toFixed(6)}`)},a=>{Z(!1),alert("Não foi possível obter sua localização.")}):(Z(!1),alert("Geolocalização não é suportada."))},disabled:Y,className:"w-full h-9 text-sm",children:[(0,b.jsx)(o.MapPin,{className:"w-4 h-4 mr-2"}),Y?"Obtendo...":"Atualizar Localização"]}),O&&(0,b.jsxs)("p",{className:"text-xs text-green-600",children:["✓ ",O.lat.toFixed(6),", ",O.lng.toFixed(6)]})]})]})}),"lost"===w&&(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"p-3 sm:p-4 space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:"Recompensa"}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{htmlFor:"reward",className:"text-xs sm:text-sm",children:"Valor"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-sm",children:"R$"}),(0,b.jsx)(g.Input,{id:"reward",type:"number",className:"pl-10 h-9 text-sm",value:S,onChange:a=>T(a.target.value)})]})]})]})}),(0,b.jsx)(f.Button,{type:"submit",className:"w-full h-10 text-sm font-semibold",disabled:W,children:W?"Salvando...":"Salvar Alterações"})]})]})})}a.s(["default",()=>r])}];

//# sourceMappingURL=_17f061a5._.js.map